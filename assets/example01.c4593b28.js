import{b as p}from"./bundle.umd.7be90ed2.js";import{d as P,r as w,b as E,g as T,c as B,a as l,o as N}from"./index.61d99999.js";const j={id:"bg",ref:"base_container"},F={class:"btn"},H=P({__name:"example01",setup(U){let _=null,n,i,e,f=[],v=w(null),b=w(null),x;E(()=>{let{$refs:r}=T().proxy;_=r,v=_.base_container,b=_.c_gui,x=p.exports.loading(),n=new p.exports.copperRenderer(v,{guiOpen:!0,camera:!0,performance:!0,light:!0}),n.closeGui(),document.addEventListener("keydown",o=>{o.code==="KeyF"&&p.exports.fullScreenListenner(v)}),n.getCurrentScene().createDemoMesh(),n.animate()});function a(r,t){if(e&&y(e),e=n.getSceneByName(t),e==null){e=n.createScene(t),f.push(e);const o=()=>{window.location.href="https://linkungao.github.io/medtech-heart-vue/model-heart",document.removeEventListener("click",o)},u=["whole-body","whole-body_2","whole-body_1"];e&&(n.setCurrentScene(e),e.controls.staticMoving=!0,t==="test"?e.loadGltf(r,m=>{e&&e.pickModel(m,s=>{s&&s.name==="whole-heart"?document.addEventListener("click",o):document.removeEventListener("click",o),s&&console.log(s.name)},u)}):e.loadGltf(r,m=>{i&&e&&e.updateCamera(i)}),t!="walk"&&(t=="fibrillation"?e.loadViewUrl("/copper3d_examples/arrythmiaActivity_view.json"):t==="test"?(e.loadViewUrl("/copper3d_examples/human_view.json"),p.exports.addLabelToScene(e,"Digital Twins",23.47044074808355,553.7649452795513,700.421283,600,{font_size:"50px",font:"Raleway"})):(e.loadViewUrl("/copper3d_examples/noInfarct_view.json"),p.exports.addLabelToScene(e,"left ventricle",-55.056679,-14.82123313284426,5.421283,60),p.exports.addLabelToScene(e,"right ventricle",-44.323991175632,31.1417335930078,10.421283,60))),e.updateBackground("#5454ad","#18e5a7")),p.exports.setHDRFilePath("/copper3d_examples/footprint_court_2k.hdr"),n.updateEnvironment()}else i&&e.updateCamera(i),n.setCurrentScene(e)}function y(r){const t=[-.9551143646240234,2.91867446899414,2.7563438415527344];i=r.setViewPoint(r.camera,t)}function S(){console.log(f),i=void 0,f.forEach(r=>{r.resetView(),r.isHalfed&&console.log(r.isHalfed)})}let c=1;function h(){c+=1,e&&e.setPlayRate(c),console.log(c)}function R(){c-=1,e&&e.setPlayRate(c),console.log(c)}function C(r,t){if(e=n.getSceneByName(t),e==null){e=n.createScene(t);const o={openGui:!0,container:b},u=m=>{};e&&(n.setCurrentScene(e),e==null||e.loadNrrd(r,x,u,o),e.loadViewUrl("/copper3d_examples/nrrd_view.json"),f.push(e))}}function L(r,t){e=n.getSceneByName(t);const o="/copper3d_examples/surfaces_lv/model_participant_000_lv_demo_endo_0",u="/copper3d_examples/surfaces_lv/model_participant_000_lv_demo_epi_0";let m=[],s=[];if(e==null){if(e=n.createScene(t),e){n.setCurrentScene(e);for(let d=0;d<31;d++){let g="",k="";d<10?(g=o+"0"+d+".vtk",k=u+"0"+d+".vtk"):(g=o+d+".vtk",k=u+d+".vtk"),m.push(g),s.push(k)}e==null||e.loadVtks([{name:"heart_inner",urls:m},{name:"heart_outer",urls:s}]),e.loadViewUrl("/copper3d_examples/d_heart_view.json"),f.push(e)}}else i&&e.updateCamera(i),n.setCurrentScene(e)}function V(){if(n){const t=n.getCurrentScene().getCurrentTime();console.log(t)}}function $(){e==null||e.addPreRenderCallbackFunction(V)}function M(){const t=n.getCurrentScene().getCurrentMixer();console.log(t)}return(r,t)=>(N(),B("div",j,[l("div",{ref_key:"c_gui",ref:b,id:"gui"},null,512),l("div",F,[l("button",{onClick:t[0]||(t[0]=o=>a("/copper3d_examples/heart1.gltf","health"))}," Health "),l("button",{onClick:t[1]||(t[1]=o=>a("/copper3d_examples/Minor.glb","minor"))}," Minor "),l("button",{onClick:t[2]||(t[2]=o=>a("/copper3d_examples/normalActivity.glb","normal"))}," Electricity normal "),l("button",{onClick:t[3]||(t[3]=o=>a("/copper3d_examples/Fibrillation.glb","fibrillation"))}," Fibrillation "),l("button",{onClick:t[4]||(t[4]=o=>a("/copper3d_examples/Severe.glb","severe"))}," Severe "),l("button",{onClick:t[5]||(t[5]=o=>a("/copper3d_examples/walkmodel.glb","walk"))}," Walk model "),l("button",{onClick:t[6]||(t[6]=o=>a("/copper3d_examples/test.glb","test"))}," Test "),l("button",{onClick:S},"Reset"),l("button",{onClick:h},"addPlayRate"),l("button",{onClick:R},"minusPlayRate"),l("button",{onClick:t[7]||(t[7]=o=>C("/copper3d_examples/nrrd/for-linkun/nnrd/DZET01_17871377_005.nrrd","nrrd"))}," LoadNrrd "),l("button",{onClick:t[8]||(t[8]=o=>C("/copper3d_examples/nrrd/58.nrrd","nrrd-breast1"))}," LoadNrrd-breast1 "),l("button",{onClick:t[9]||(t[9]=o=>L("/copper3d_examples/nrrd/breast.vtk","vtk-breast1"))}," LoadVtk-heart "),l("button",{onClick:$},"getTime"),l("button",{onClick:M},"getMixer")])],512))}});export{H as default};
