import{l as N,s as S,t as U,u as A,n as f,V as m,v as G}from"./index.ef0f5e24.js";/* empty css              */import{d as T,r as k,e as z,g as F,c as H,a as d,o as J}from"./index.94d28e09.js";import{c as P}from"./copperMSceneRenderer.09285b27.js";import{n as $}from"./nrrd_tool.4ce3f98b.js";import"./FileSaver.min.330e71f6.js";const q={class:"container"},K=d("div",{class:"left"},"left",-1),L={id:"bg",ref:"base_container"},Q={ref:"c_gui_2",id:"gui_2"},re=T({__name:"example08_load_Nrrd",setup(W){let u=null,w=k(null),e,g=k(null),h;z(()=>{let{$refs:a}=F().proxy;u=a,w=u.base_container,g=u.c_gui,e=new P(w,2),new $(e.sceneInfos[0].container),h=N(),N(),e.sceneInfos[0].container.appendChild(h.loadingContainer),V("/copper3d_examples/nrrd/stent.nrrd","/copper3d_examples/nrrd/mesh_spacing.obj","nrrd0",e.sceneInfos[0],g),e.animate()});function C(){e.sceneInfos.forEach(a=>{a.resetView()})}function V(a,b,X,t,O){const R={openGui:!0,container:O},D=(o,x,Y,r)=>{r.closed=!0;const i=new U(5,32,16),c=new A({color:16776960}),l=new f(i,c),y=new f(i,c),v=new f(i,c),j=new f(i,c),n=o.header.space_origin.map(s=>Number(s)),p=o.spacing,_=o.dimensions;l.position.add(new m(n[0]+5,n[1]-13,n[2]+32)),y.position.add(new m(n[0]+_[0]*p[0]+5,n[1]-13,n[2]+32)),v.position.add(new m(n[0]+_[0]*p[0]+5,n[1]+_[1]*p[1]-13,n[2]+32)),j.position.add(new m(n[0]+5,n[1]+_[1]*p[1]-13,n[2]+32)),e.sceneInfos[0].addObject(l),e.sceneInfos[0].addObject(y),e.sceneInfos[0].addObject(v),e.sceneInfos[0].addObject(j),r.add(l.position,"x").max(500).min(-500).step(1),r.add(l.position,"y").max(500).min(-500).step(1),e.sceneInfos[0].scene.add(x.x,x.y,x.z),console.log(o);const B=Uint8Array.from(o.data,s=>s&255);console.log(B),G(B,o.dimensions[0],o.dimensions[1],o.dimensions[2],s=>{e.sceneInfos[1].scene.add(s),(()=>{s&&s.material.uniforms.depth.value;let E=s.material.uniforms.depth.value;console.log(r),r==null||r.add({depth:E},"depth",0,o.dimensions[2],1).onChange(M=>{s.material.uniforms.depth.value=M})})()}),e.sceneInfos[1].loadViewUrl("/copper3d_examples/nrrd_view_t2.json")};t&&(t==null||t.loadNrrd(a,h,!0,D,R),t==null||t.loadOBJ(b,o=>{console.log(o)}),t.loadViewUrl("/copper3d_examples/nrrd_view.json")),t.updateBackground("#18e5a7","#000"),S("venice_sunset_1k.hdr"),e.updateEnvironment(t)}return(a,b)=>(J(),H("div",q,[K,d("div",L,[d("div",{ref_key:"c_gui",ref:g,id:"gui"},null,512),d("div",Q,null,512),d("button",{class:"btn",ref:"btn",onClick:C},"reset",512)],512)]))}});export{re as default};
