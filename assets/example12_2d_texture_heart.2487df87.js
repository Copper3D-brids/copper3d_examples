import{G as g,f as y}from"./index.ef0f5e24.js";import{d as h,r as u,e as w,g as R,c as v,a as l,o as C}from"./index.94d28e09.js";import{c as P}from"./copperRenderer.8ae218dd.js";import"./FileSaver.min.330e71f6.js";const b={id:"bg",ref:"base_container"},M=h({__name:"example12_2d_texture_heart",setup(k){let m=null,i,a,d=u(null),n=u(null),t=new g({width:350,autoPlace:!1});w(()=>{let{$refs:r}=R().proxy;m=r,d=m.base_container,n=r.c_gui,n.appendChild(t.domElement),i=new P(d,{guiOpen:!0,camera:!0,performance:!0,light:!0,alpha:!0,logarithmicDepthBuffer:!0}),i.closeGui(),document.addEventListener("keydown",e=>{e.code==="KeyF"&&y(d)});const o=[];for(let e=1;e<=32;e++)o.push(`/copper3d_examples/mri_4ch/${e}.dcm`);_(o,"texture2d"),i.animate()});function _(r,o){a=i.getSceneByName(o),a==null&&(a=i.createScene(o),a&&(i.setCurrentScene(a),a.loadViewUrl("/copper3d_examples/texture2d_view_array.json"),a.loadDicom(r,{gui:t,getMesh(e){console.log(e)},getCopperVolume(e,p){e.windowWidth=424,e.windowCenter=236,p(e)},setAnimation(e,p,x,B){return e+=x,e>p&&(e=0),e}}),a.loadGltf("/copper3d_examples/heart_p.gltf",e=>{e.rotation.set(-12.9,3.6,3.3),e.scale.set(3.4,3.4,3.4),e.position.set(4.3,1.3,0),t.add(e.rotation,"x").min(-20).max(20).step(.1),t.add(e.rotation,"y").min(-20).max(20).step(.1),t.add(e.rotation,"z").min(-20).max(20).step(.1),t.add(e.scale,"x").min(.1).max(10).step(.1),t.add(e.scale,"y").min(.1).max(10).step(.1),t.add(e.scale,"z").min(.1).max(10).step(.1),t.add(e.position,"x").min(-100).max(100).step(.1),t.add(e.position,"y").min(-100).max(100).step(.1),t.add(e.position,"z").min(-100).max(100).step(.1),a==null||a.setPlayRate(3.5)})))}let s=1;function c(){s+=1,a&&a.setPlayRate(s)}function f(){s-=1,a&&a.setPlayRate(s),console.log(s)}return(r,o)=>(C(),v("div",b,[l("div",{ref_key:"c_gui",ref:n,id:"gui"},null,512),l("div",{class:"btn"},[l("button",{onClick:c},"addPlayRate"),l("button",{onClick:f},"minusPlayRate")])],512))}});export{M as default};
