import{l as R,s as D}from"./index.665fbcc4.js";import{d as y,c as b,a as i,e as f,o as N,f as E,_ as j,r as n,b as F,g as U,h}from"./index.ef231ad6.js";import{c as $,n as H}from"./nrrd_tool.3864d04f.js";import"./___vite-browser-external_commonjs-proxy.cbdc8e07.js";const T={class:"nav"},W={class:"content"},q={class:"arrows"},G=y({__name:"NavBar",props:{min:{default:0},max:{default:160}},emits:["onSliceChange"],setup(v,{emit:l}){const s=v;let a=0;const r=()=>{s.max&&s.max!=0&&(a<s.max&&a++,l("onSliceChange",1))},t=()=>{s.min>=0&&(a>s.min&&a--,l("onSliceChange",-1))};return(p,u)=>{const c=E("ion-icon");return N(),b("div",T,[i("div",W,[i("div",q,[i("span",{onClick:t},[f(c,{name:"chevron-back-outline"})]),i("span",{onClick:r},[f(c,{name:"chevron-forward-outline"})])])])])}}});const J=j(G,[["__scopeId","data-v-ca61cb6b"]]),K={ref:"c_gui_2",id:"gui_2"},I=y({__name:"example10_segmentaion_v2",setup(v){let l=n(),s=n(),a,r,t,p=n(!1),u=n(!1),c=n(!1),g=n(!1),x=n(!1),S=n(0),C=n(0);F(()=>{U().proxy,a=new $(l.value,1),r=new H(a.sceneInfos[0].container),r.setContrastDisplayInMainArea(),t=R(),r.mainDisplayArea.appendChild(t.loadingContainer),a.sceneInfos[0].addSubView(),M("/copper3d_examples/nrrd/segmentation/ax dyn pre.nrrd","nrrd0",a.sceneInfos[0]),a.animate()});const w=d=>{p&&u&&c&&g&&x&&r.setSliceMoving(d)};function k(){a.sceneInfos.forEach(d=>{d.resetView()})}function M(d,A,e,L){const B=(_,m,o)=>{a.sceneInfos[0].loadViewUrl("/copper3d_examples/nrrd_view.json"),a.sceneInfos[0].subScene.add(m.z),r.setVolumeAndSlice(_,o.z),p.value=!0,C.value=r.getMaxSliceNum(),r.dragImageWithMode(e.controls,{mode:"mode1",showNumber:!0}),r.draw(e.controls,e,e.gui),a.sceneInfos[0].addPreRenderCallbackFunction(r.start)},V=(_,m,o)=>{r.setContrast1OriginCanvas(o.z),u.value=!0},z=(_,m,o)=>{r.setContrast2OriginCanvas(o.z),c.value=!0},O=(_,m,o)=>{r.setContrast3OriginCanvas(o.z),g.value=!0},P=(_,m,o)=>{r.setContrast4OriginCanvas(o.z),x.value=!0};e&&(e==null||e.loadNrrd(d,t,B),e==null||e.loadNrrd("/copper3d_examples/nrrd/segmentation/ax dyn 1st pass.nrrd",t,V),e==null||e.loadNrrd("/copper3d_examples/nrrd/segmentation/ax dyn 2nd pass.nrrd",t,z),e==null||e.loadNrrd("/copper3d_examples/nrrd/segmentation/ax dyn 3rd pass.nrrd",t,O),e==null||e.loadNrrd("/copper3d_examples/nrrd/segmentation/ax dyn 4th pass.nrrd",t,P),e.loadViewUrl("/copper3d_examples/nrrd_view.json")),e.updateBackground("#18e5a7","#ff00ff"),D("venice_sunset_1k.hdr"),a.updateEnvironment(e)}return(d,A)=>(N(),b("div",{id:"bg",ref_key:"base_container",ref:l},[i("div",{ref_key:"c_gui",ref:s,id:"gui"},null,512),i("div",K,null,512),i("button",{class:"btn",ref:"btn",onClick:k},"reset",512),f(J,{onOnSliceChange:w,min:h(S),max:h(C)},null,8,["min","max"])],512))}});export{I as default};
